<div class="cardContainer">
    <div class="cardContainer-userData" style="justify-content: space-between">

        <div class="cardContainer-userData">
            <div class="cardContainer-userData-logo">
                <ng-container *ngIf="Item?.author?.imageLink">
                    <ng-container *ngIf="Item?.author?.imageLink.startsWith('https'); else localImage">
                        <img [src]="Item?.author?.imageLink" class="logoImg" style="width:100%; height:100%; border-radius: 50%;">
                    </ng-container>
                    <ng-template #localImage>
                        <img [src]="'assets/avatars/' + Item?.author?.imageLink + '.png'" class="logoImg">
                    </ng-template>
                </ng-container>
                <ng-container *ngIf="!Item?.author?.imageLink">
                    <img [src]="'assets/avatars/default.png'" alt="avatar" style="width:100%; height:100%; border-radius: 50%;"
                        class="logoImg">
                </ng-container>
            </div>
            <div class="cardContainer-userData-content">
                <div class="cardContainer-userData-content-fullName">
                    <p>
                        {{Item.author.lastName}}
                    </p>
                    <p>
                        {{Item.author.lastName}}
                    </p>
                </div>
                <p class="cardContainer-userData-content-dateOfRegistration">
                    {{ getFormattedDate(Item.createdAt) }}
                </p>
            </div>
        </div>
        <ng-container *ngIf="isOwner && visibleFoto">
          <div style="display: flex; gap: 10px;">
            <a (click)="toggleEdit()" style="border-radius: 12px;
            width: 42px;
            height: 42px;
            background: #e2e2e2;
            display: flex;
    justify-content: center;
    align-items: center;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11 4.99998H6C5.46957 4.99998 4.96086 5.21069 4.58579 5.58577C4.21071 5.96084 4 6.46955 4 6.99998V18C4 18.5304 4.21071 19.0391 4.58579 19.4142C4.96086 19.7893 5.46957 20 6 20H17C17.5304 20 18.0391 19.7893 18.4142 19.4142C18.7893 19.0391 19 18.5304 19 18V13M17.586 3.58598C17.7705 3.39496 17.9912 3.24259 18.2352 3.13778C18.4792 3.03296 18.7416 2.97779 19.0072 2.97548C19.2728 2.97317 19.5361 3.02377 19.7819 3.12434C20.0277 3.2249 20.251 3.3734 20.4388 3.56119C20.6266 3.74897 20.7751 3.97228 20.8756 4.21807C20.9762 4.46386 21.0268 4.72722 21.0245 4.99278C21.0222 5.25834 20.967 5.52078 20.8622 5.76479C20.7574 6.0088 20.605 6.22949 20.414 6.41398L11.828 15H9V12.172L17.586 3.58598Z" stroke="#806BFF" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    
            </a>

            <a (click)="deletePost()" style="border-radius: 12px;
            width: 42px;
            height: 42px;
            background: #e2e2e2;
            display: flex;
    justify-content: center;
    align-items: center;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M19.5 5.5L18.88 15.525C18.722 18.086 18.643 19.367 18 20.288C17.6826 20.7432 17.2739 21.1273 16.8 21.416C15.843 22 14.56 22 11.994 22C9.424 22 8.139 22 7.18 21.415C6.70589 21.1257 6.29721 20.7409 5.98 20.285C5.338 19.363 5.26 18.08 5.106 15.515L4.5 5.5M3 5.5H21M16.056 5.5L15.373 4.092C14.92 3.156 14.693 2.689 14.302 2.397C14.2151 2.33232 14.1232 2.27479 14.027 2.225C13.594 2 13.074 2 12.035 2C10.969 2 10.436 2 9.995 2.234C9.89752 2.28621 9.80453 2.34642 9.717 2.414C9.322 2.717 9.101 3.202 8.659 4.171L8.053 5.5M9.5 16.5V10.5M14.5 16.5V10.5"
                        stroke="#806BFF" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </a>
          </div>
        </ng-container>

    </div>
    <div class="cardContainer-feedback">
        <p class="cardContainer-feedback-title">
            {{ Item.title }}
        </p>
    
        <ng-container *ngIf="!isEditing">
            <p class="cardContainer-feedback-content">
                {{ Item.content }}
            </p>
        </ng-container>
    
        <ng-container *ngIf="isEditing">
            <textarea [(ngModel)]="editedContent" class="edit-textarea"></textarea>
        </ng-container>
        <div class="button-container"  *ngIf="isEditing">
            <a class="btnSend" (click)="sendMessage()">Опубликовать</a>
            <a class="btnCancel" (click)="clearText()">Отмена</a>
        </div>
    </div>
    

    <ng-container *ngIf="visibleFoto && photoArray.length > 0 && photoArray[0].url">
        <div class="photo-container">
            <app-photo-grid  [photos]="photoArray"></app-photo-grid>
            <button class="delete-photo-btn" (click)="deletePhoto()" *ngIf="isEditing">✖</button>
        </div>
    </ng-container>
    
    

</div>