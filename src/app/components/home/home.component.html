<div class="main">
  <app-one-section [ngClass]="{
    'zIndexDialog': (isVisibleFilter)
  }"></app-one-section>
  <div class="container">
    <app-sortetd-filter [ngClass]="{
      'sticky-filter': settingHeaderService.isSticky, 
    }">
    </app-sortetd-filter>


    <div class="card-container">


<!-- ***************************** hackathon ********************************** -->
    <ng-container *ngIf="homeService.typeToggle === 'hackathon'">
        <ng-container *ngIf="isDesktop"> 
          <div class="container">
              <div class="column">
                  <swiper-container
                  [slidesPerView]="4"
                  [spaceBetween]="20"
                  [loop]="false"
                  [allowTouchMove]="true"
                  [navigation]="true"
                  [pagination]="{ clickable: true }">
                      <swiper-slide  *ngFor="let item of homeService.hackathons; let i = index"> 
                        <a [href]="getCardUrl(item.id, 'hackathon', 'hackathon')" class="app-card-vacancy-link"
                          (click)="onCardClick($event, item.nickname, 'hackathon')">
                          <app-hackathon-card class="card" [cardItem]="item" *ngIf="item.visibility != 'BAN'"></app-hackathon-card>
                        </a>
                      </swiper-slide>
                  </swiper-container>
              </div>
          </div>
        </ng-container>

        <ng-container *ngIf="isMobile">
          <div class="column">
            <swiper-container
              [slidesPerView]="1"
              [loop]="false"
              [allowTouchMove]="true"
              [navigation]="true"
            >
                <swiper-slide  *ngFor="let item of homeService.hackathons; let i = index"> 
                  <a [href]="getCardUrl(item.id, 'hackathon', 'hackathon')" class="app-card-vacancy-link"
                    (click)="onCardClick($event, item.nickname, 'hackathon')">
                    <app-hackathon-card class="card" [cardItem]="item" *ngIf="item.visibility != 'BAN'"></app-hackathon-card>
                  </a>
                </swiper-slide>
            </swiper-container>
        </div>
        </ng-container>  
    </ng-container>
<!-- ***************************** close hackathon ********************************** -->

<!-- *****************************  project ********************************** -->
    <ng-container *ngIf="homeService.typeToggle === 'project'">
        <ng-container *ngIf="isDesktop"> 
          <div class="container">
              <div class="column">
                  <swiper-container
                  [slidesPerView]="4"
                  [spaceBetween]="20"
                  [loop]="false"
                  [allowTouchMove]="true"
                  [navigation]="true"
                  [pagination]="{ clickable: true }">
                      <swiper-slide  *ngFor="let item of homeService.projects; let i = index">
                        <a [href]="getCardUrl(item.id, 'project', 'project')" class="app-card-vacancy-link"
                           (click)="onCardClick($event, item.nickname, 'project')">
                        <app-project class="card" [cardItem]="item" *ngIf="item.visibility != 'BAN'"></app-project>
                        </a>
                      </swiper-slide>
                  </swiper-container>
              </div>
          </div>
        </ng-container>
    
        <!-- <ng-container *ngIf="isTablet">
          <div class="column">
            <ng-container *ngFor="let item of homeService.projects; let i = index">
              <ng-container *ngIf="i % 2 === 0">
                <a [href]="getCardUrl(item.id, 'project', 'project')" class="app-card-vacancy-link"
                  (click)="onCardClick($event, item.nickname, 'project')">
                  <app-project class="card" [cardItem]="item" *ngIf="item.visibility != 'BAN'"></app-project>
                </a>
              </ng-container>
            </ng-container>
          </div>

          <div class="column">
            <ng-container *ngFor="let item of homeService.projects; let i = index">
              <ng-container *ngIf="i % 2 === 1">
                <a [href]="getCardUrl(item.id, 'project', 'project')" class="app-card-vacancy-link"
                  (click)="onCardClick($event, item.nickname, 'project')">
                  <app-project class="card" [cardItem]="item" *ngIf="item.visibility != 'BAN'"></app-project>
                </a>
              </ng-container>
            </ng-container>
          </div>
        </ng-container> -->
        
        <ng-container *ngIf="isMobile">
          <div class="column">
            <swiper-container
              [slidesPerView]="1"
              [loop]="false"
              [allowTouchMove]="true"
              [navigation]="true"
            >
            <swiper-slide  *ngFor="let item of homeService.projects; let i = index">
                <a [href]="getCardUrl(item.id, 'project', 'project')" class="app-card-vacancy-link"
                   (click)="onCardClick($event, item.nickname, 'project')">
                <app-project class="card" [cardItem]="item" *ngIf="item.visibility != 'BAN'"></app-project>
                </a>
            </swiper-slide>
            </swiper-container>
        </div>
        </ng-container>  
    </ng-container>
<!-- ***************************** close project ********************************** -->


<!-- ***************************** vacancy ********************************** -->
    <ng-container *ngIf="homeService.typeToggle === 'vacancy'">

        <ng-container *ngIf="isDesktop"> 
          <div class="container">
              <div class="column">
                  <swiper-container
                  [slidesPerView]="4"
                  [spaceBetween]="20"
                  [loop]="false"
                  [allowTouchMove]="true"
                  [navigation]="true"
                  [pagination]="{ clickable: true }">
                      <swiper-slide  *ngFor="let item of homeService.vacancies; let i = index"> 
                            <a [href]="getCardUrl(item.id, 'vacancies', 'vacancy')" class="app-card-vacancy-link"
                            (click)="onCardClick($event, item.id, 'vacancy')">
                              <lib-vacancy class="card"  [cardItem]="item" *ngIf="item.visibility != 'BAN'"></lib-vacancy> 
                            </a>
                      </swiper-slide>
                  </swiper-container>
              </div>

              <div class="column bottom">
                <swiper-container
                [slidesPerView]="4"
                [spaceBetween]="20"
                [loop]="false"
                [allowTouchMove]="true"
                [navigation]="true"
                [pagination]="{ clickable: false }">
                    <swiper-slide  *ngFor="let item of homeService.vacancies; let i = index"> 
                          <a [href]="getCardUrl(item.id, 'vacancies', 'vacancy')" class="app-card-vacancy-link"
                          (click)="onCardClick($event, item.id, 'vacancy')">
                            <lib-vacancy class="card"  [cardItem]="item" *ngIf="item.visibility != 'BAN'"></lib-vacancy> 
                          </a>
                    </swiper-slide>
                </swiper-container>
              </div>
          </div>
        </ng-container>

        <ng-container *ngIf="isMobile">
            <div class="column">
              <swiper-container
                [slidesPerView]="1"
                [loop]="false"
                [allowTouchMove]="true"
                [navigation]="true"
              >
                  <swiper-slide  *ngFor="let item of homeService.vacancies; let i = index"> 
                        <a [href]="getCardUrl(item.id, 'vacancies', 'vacancy')" class="app-card-vacancy-link"
                        (click)="onCardClick($event, item.id, 'vacancy')">
                          <lib-vacancy class="card"  [cardItem]="item" *ngIf="item.visibility != 'BAN'"></lib-vacancy> 
                        </a>
                  </swiper-slide>
              </swiper-container>
          </div>
        </ng-container>   

    </ng-container>
<!-- ***************************** close vacancy ********************************** -->


<!-- ***************************** resume ********************************** -->
    <ng-container *ngIf="homeService.typeToggle === 'resume'">
        <ng-container *ngIf="isDesktop"> 
            <div class="container">
                <div class="column">
                    <swiper-container
                    [slidesPerView]="4"
                    [spaceBetween]="20"
                    [loop]="false"
                    [allowTouchMove]="true"
                    [navigation]="true"
                    [pagination]="{ clickable: true }">
                        <swiper-slide  *ngFor="let item of homeService.resumes; let i = index">
                          <a [href]="getCardUrl(item.id, 'resumes', 'resume')" class="app-card-resume-link"
                              (click)="onCardClick($event, item.id, 'resume')">
                          <lib-resume class="card" [cardItem]="item" *ngIf="item.visibility != 'BAN'" [visibleSections]="resumeVisibleSections"> </lib-resume>
                          </a>
                        </swiper-slide>
                    </swiper-container>
                </div>
            </div>
        </ng-container>
      
        <ng-container *ngIf="isMobile">
            <div class="column">
              <swiper-container
                [slidesPerView]="1"
                [loop]="false"
                [allowTouchMove]="true"
                [navigation]="true"
              >
                  <swiper-slide *ngFor="let item of homeService.resumes; let i = index">
                      <a [href]="getCardUrl(item.id, 'resumes', 'resume')" class="app-card-resume-link"
                        (click)="onCardClick($event, item.id, 'resume')">
                      <lib-resume class="card" [cardItem]="item" *ngIf="item.visibility != 'BAN'"
                        [visibleSections]="resumeVisibleSections"> </lib-resume>
                      </a>
                  </swiper-slide>
              </swiper-container>
          </div>
        </ng-container>  
    </ng-container>

      <!-- <ng-container *ngIf="isTablet">
        <div class="column">
          <ng-container *ngFor="let item of homeService.resumes; let i = index">
            <ng-container *ngIf="i % 2 === 0">
              <a [href]="getCardUrl(item.id, 'resumes', 'resume')" class="app-card-resume-link"
                (click)="onCardClick($event, item.id, 'resume')">
                <lib-resume class="card" [cardItem]="item" *ngIf="item.visibility != 'BAN'"
                  [visibleSections]="resumeVisibleSections"> </lib-resume>
              </a>
            </ng-container>
          </ng-container>
        </div>

        <div class="column">
          <ng-container *ngFor="let item of homeService.resumes; let i = index">
            <ng-container *ngIf="i % 2 === 1"> 
              <a [href]="getCardUrl(item.id, 'resumes', 'resume')" class="app-card-resume-link"
                (click)="onCardClick($event, item.id, 'resume')">
                <lib-resume class="card" [cardItem]="item" *ngIf="item.visibility != 'BAN'"
                  [visibleSections]="resumeVisibleSections"></lib-resume>
              </a>
            </ng-container>
          </ng-container>
        </div>
      </ng-container> -->

<!-- ***************************** close resume ********************************** -->
    </div>






    <div class="nextPage">
      <a *ngIf="homeService.visibleNextPage" (click)="nextPage()">
        Показать еще
      </a>
    </div>


    <p *ngIf="homeService?.vacancies?.length === 0 && homeService?.typeToggle === 'vacancy' && !homeService.loading"
      class="messageError">
      Нет доступных вакансий по вашему запросу. Попробуйте изменить фильтры или параметры поиска.
    </p>
    <p *ngIf="homeService?.resumes?.length === 0 && homeService?.typeToggle === 'resume'  && !homeService.loading"
      class="messageError">
      Нет доступных резюме по вашему запросу. Попробуйте изменить фильтры или параметры поиска.
    </p>
  </div>
</div>
<app-search-input-phone></app-search-input-phone>