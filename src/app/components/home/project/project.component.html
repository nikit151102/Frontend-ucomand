<div class="card">
    <div class="background"
        [ngStyle]="{'background-image': 'linear-gradient(rgba(16, 16, 16, 0.6), rgba(16, 16, 16, 0.6)), url(' + cardItem.headerLink + ')'}">
        <div class="header-content">
            <span class="type-badge">{{ getTypeName(cardItem.type) }}</span>
            <a class="like" (click)="toggleLike($event)">
                {{cardItem.likesCount}}

                <!-- Иконка лайка при нажатии -->
                <svg *ngIf="isLiked" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M3 10.234L3.747 10.17C3.72978 9.97788 3.63924 9.79981 3.49416 9.67274C3.34909 9.54566 3.16064 9.47936 2.96796 9.4876C2.77528 9.49584 2.59318 9.57798 2.45948 9.71697C2.32578 9.85596 2.25076 10.0411 2.25 10.234H3ZM20.236 12.057L19.53 16.137L21.009 16.393L21.714 12.313L20.236 12.057ZM13.245 21.25H8.596V22.75H13.245V21.25ZM7.685 20.413L6.873 11.02L5.378 11.149L6.191 20.542L7.685 20.413ZM19.53 16.137C19.023 19.067 16.381 21.25 13.245 21.25V22.75C17.071 22.75 20.371 20.081 21.009 16.393L19.53 16.137ZM13.255 5.09997L12.592 9.14497L14.072 9.38696L14.735 5.34297L13.255 5.09997ZM7.188 10.246L8.627 9.00596L7.647 7.86997L6.21 9.10996L7.188 10.246ZM11.244 4.97197L11.72 3.13797L10.268 2.76197L9.792 4.59496L11.244 4.97197ZM12.438 2.77797L12.583 2.82497L13.042 1.39697L12.897 1.34997L12.438 2.77797ZM10.523 6.81597C10.8352 6.23187 11.0772 5.61291 11.244 4.97197L9.792 4.59496C9.65421 5.12125 9.45553 5.62969 9.2 6.10997L10.523 6.81597ZM12.583 2.82497C12.7255 2.86862 12.8547 2.94735 12.9588 3.05393C13.063 3.16051 13.1387 3.29152 13.179 3.43497L14.631 3.05897C14.5281 2.67026 14.3284 2.31397 14.0505 2.02334C13.7727 1.73271 13.4257 1.51721 13.042 1.39697L12.583 2.82497ZM11.72 3.13797C11.7402 3.06608 11.7757 2.9994 11.824 2.94245C11.8724 2.88551 11.9324 2.83964 12 2.80797L11.349 1.45697C10.817 1.71297 10.417 2.18697 10.268 2.76197L11.72 3.13797ZM12 2.80797C12.137 2.74299 12.2935 2.73227 12.438 2.77797L12.897 1.34997C12.3863 1.1867 11.8324 1.22498 11.349 1.45697L12 2.80797ZM14.154 10.984H19.334V9.48396H14.154V10.984ZM4.719 21.406L3.747 10.17L2.253 10.299L3.223 21.535L4.719 21.406ZM3.75 21.513V10.234H2.25V21.513H3.75ZM3.223 21.535C3.21995 21.4986 3.22549 21.462 3.23733 21.4276C3.24918 21.3931 3.26807 21.3614 3.2928 21.3346C3.31753 21.3078 3.34757 21.2864 3.381 21.2719C3.41443 21.2573 3.45053 21.2498 3.487 21.25V22.75C4.213 22.75 4.781 22.128 4.719 21.406L3.223 21.535ZM14.735 5.34297C14.8607 4.58275 14.8253 3.80461 14.631 3.05897L13.179 3.43597C13.3208 3.97915 13.3467 4.54611 13.255 5.09997L14.735 5.34297ZM8.596 21.25C8.36701 21.2496 8.14648 21.1634 7.97785 21.0085C7.80923 20.8536 7.70475 20.6411 7.685 20.413L6.191 20.542C6.24303 21.1441 6.51888 21.7049 6.96411 22.1137C7.40933 22.5224 7.99159 22.7495 8.596 22.75V21.25ZM8.627 9.00596C9.307 8.41996 10.039 7.72297 10.524 6.81597L9.2 6.10997C8.854 6.75897 8.303 7.30597 7.647 7.86997L8.627 9.00596ZM21.714 12.313C21.7742 11.966 21.7578 11.61 21.666 11.27C21.5741 10.9299 21.4091 10.6141 21.1823 10.3446C20.9556 10.0751 20.6727 9.85843 20.3534 9.70976C20.0341 9.56109 19.6862 9.48403 19.334 9.48396V10.984C19.901 10.984 20.334 11.496 20.236 12.057L21.714 12.313ZM3.487 21.25C3.633 21.25 3.75 21.368 3.75 21.513H2.25C2.25 22.195 2.803 22.75 3.487 22.75V21.25ZM12.592 9.14497C12.5547 9.37155 12.5672 9.60352 12.6285 9.8248C12.6899 10.0461 12.7986 10.2514 12.9472 10.4264C13.0958 10.6015 13.2807 10.7421 13.4891 10.8386C13.6975 10.935 13.9244 10.984 14.154 10.984V9.48396C14.1418 9.48402 14.1297 9.48238 14.1187 9.47724C14.1076 9.4721 14.0978 9.46459 14.09 9.45523C14.0821 9.44587 14.0765 9.4349 14.0734 9.4231C14.0703 9.4113 14.0698 9.39897 14.072 9.38696L12.592 9.14497ZM6.873 11.02C6.8608 10.8752 6.88208 10.7295 6.937 10.595C6.99193 10.4605 7.07794 10.3409 7.188 10.246L6.208 9.10897C5.91814 9.3591 5.69177 9.67444 5.54748 10.0291C5.4032 10.3837 5.34511 10.7675 5.378 11.149L6.873 11.02Z"
                        fill="white" />
                    <path
                        d="M20.2692 16.2652L20.9742 12.1852C21.0156 11.9461 21.0042 11.7008 20.9409 11.4665C20.8776 11.2322 20.7638 11.0146 20.6076 10.8289C20.4514 10.6431 20.2565 10.4938 20.0366 10.3912C19.8166 10.2887 19.5769 10.2354 19.3342 10.2352H14.1532C14.0323 10.2352 13.9128 10.2089 13.8031 10.1581C13.6934 10.1073 13.596 10.0333 13.5178 9.94106C13.4396 9.84886 13.3824 9.74073 13.3502 9.62419C13.3179 9.50765 13.3115 9.38549 13.3312 9.2662L13.9942 5.2212C14.1013 4.56441 14.0707 3.89252 13.9042 3.2482C13.8324 2.98221 13.6947 2.73861 13.5038 2.53989C13.3129 2.34117 13.0751 2.19373 12.8122 2.1112L12.6672 2.0642C12.3393 1.9593 11.9838 1.98363 11.6732 2.1322C11.3332 2.2962 11.0852 2.5952 10.9932 2.9502L10.5172 4.7842C10.3659 5.36791 10.1457 5.93154 9.86123 6.4632C9.44623 7.2402 8.80423 7.8632 8.13623 8.4382L6.69723 9.6782C6.49759 9.85071 6.34168 10.0681 6.24225 10.3125C6.14283 10.5569 6.10272 10.8213 6.12523 11.0842L6.93723 20.4772C6.97301 20.8926 7.16327 21.2795 7.47042 21.5615C7.77756 21.8434 8.17928 22 8.59623 22.0002H13.2442C16.7262 22.0002 19.6972 19.5742 20.2692 16.2652Z"
                        fill="white" />
                </svg>

                <!-- Иконка лайка, если не нажато -->
                <svg *ngIf="!isLiked" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M3 10.234L3.747 10.17C3.72978 9.97788 3.63924 9.79981 3.49416 9.67274C3.34909 9.54566 3.16064 9.47936 2.96796 9.4876C2.77528 9.49584 2.59318 9.57798 2.45948 9.71697C2.32578 9.85596 2.25076 10.0411 2.25 10.234H3ZM20.236 12.057L19.53 16.137L21.009 16.393L21.714 12.313L20.236 12.057ZM13.245 21.25H8.596V22.75H13.245V21.25ZM7.685 20.413L6.873 11.02L5.378 11.149L6.191 20.542L7.685 20.413ZM19.53 16.137C19.023 19.067 16.381 21.25 13.245 21.25V22.75C17.071 22.75 20.371 20.081 21.009 16.393L19.53 16.137ZM13.255 5.09997L12.592 9.14497L14.072 9.38696L14.735 5.34297L13.255 5.09997ZM7.188 10.246L8.627 9.00596L7.647 7.86997L6.21 9.10996L7.188 10.246ZM11.244 4.97197L11.72 3.13797L10.268 2.76197L9.792 4.59496L11.244 4.97197ZM12.438 2.77797L12.583 2.82497L13.042 1.39697L12.897 1.34997L12.438 2.77797ZM10.523 6.81597C10.8352 6.23187 11.0772 5.61291 11.244 4.97197L9.792 4.59496C9.65421 5.12125 9.45553 5.62969 9.2 6.10997L10.523 6.81597ZM12.583 2.82497C12.7255 2.86862 12.8547 2.94735 12.9588 3.05393C13.063 3.16051 13.1387 3.29152 13.179 3.43497L14.631 3.05897C14.5281 2.67026 14.3284 2.31397 14.0505 2.02334C13.7727 1.73271 13.4257 1.51721 13.042 1.39697L12.583 2.82497ZM11.72 3.13797C11.7402 3.06608 11.7757 2.9994 11.824 2.94245C11.8724 2.88551 11.9324 2.83964 12 2.80797L11.349 1.45697C10.817 1.71297 10.417 2.18697 10.268 2.76197L11.72 3.13797ZM12 2.80797C12.137 2.74299 12.2935 2.73227 12.438 2.77797L12.897 1.34997C12.3863 1.1867 11.8324 1.22498 11.349 1.45697L12 2.80797ZM14.154 10.984H19.334V9.48396H14.154V10.984ZM4.719 21.406L3.747 10.17L2.253 10.299L3.223 21.535L4.719 21.406ZM3.75 21.513V10.234H2.25V21.513H3.75ZM3.223 21.535C3.21995 21.4986 3.22549 21.462 3.23733 21.4276C3.24918 21.3931 3.26807 21.3614 3.2928 21.3346C3.31753 21.3078 3.34757 21.2864 3.381 21.2719C3.41443 21.2573 3.45053 21.2498 3.487 21.25V22.75C4.213 22.75 4.781 22.128 4.719 21.406L3.223 21.535ZM14.735 5.34297C14.8607 4.58275 14.8253 3.80461 14.631 3.05897L13.179 3.43597C13.3208 3.97915 13.3467 4.54611 13.255 5.09997L14.735 5.34297ZM8.596 21.25C8.36701 21.2496 8.14648 21.1634 7.97785 21.0085C7.80923 20.8536 7.70475 20.6411 7.685 20.413L6.191 20.542C6.24303 21.1441 6.51888 21.7049 6.96411 22.1137C7.40933 22.5224 7.99159 22.7495 8.596 22.75V21.25ZM8.627 9.00596C9.307 8.41996 10.039 7.72297 10.524 6.81597L9.2 6.10997C8.854 6.75897 8.303 7.30597 7.647 7.86997L8.627 9.00596ZM21.714 12.313C21.7742 11.966 21.7578 11.61 21.666 11.27C21.5741 10.9299 21.4091 10.6141 21.1823 10.3446C20.9556 10.0751 20.6727 9.85843 20.3534 9.70976C20.0341 9.56109 19.6862 9.48403 19.334 9.48396V10.984C19.901 10.984 20.334 11.496 20.236 12.057L21.714 12.313ZM3.487 21.25C3.633 21.25 3.75 21.368 3.75 21.513H2.25C2.25 22.195 2.803 22.75 3.487 22.75V21.25ZM12.592 9.14497C12.5547 9.37155 12.5672 9.60352 12.6285 9.8248C12.6899 10.0461 12.7986 10.2514 12.9472 10.4264C13.0958 10.6015 13.2807 10.7421 13.4891 10.8386C13.6975 10.935 13.9244 10.984 14.154 10.984V9.48396C14.1418 9.48402 14.1297 9.48238 14.1187 9.47724C14.1076 9.4721 14.0978 9.46459 14.09 9.45523C14.0821 9.44587 14.0765 9.4349 14.0734 9.4231C14.0703 9.4113 14.0698 9.39897 14.072 9.38696L12.592 9.14497ZM6.873 11.02C6.8608 10.8752 6.88208 10.7295 6.937 10.595C6.99193 10.4605 7.07794 10.3409 7.188 10.246L6.208 9.10897C5.91814 9.3591 5.69177 9.67444 5.54748 10.0291C5.4032 10.3837 5.34511 10.7675 5.378 11.149L6.873 11.02Z"
                        fill="white" />
                </svg>
            </a>

        </div>
    </div>


    <div class="body">

        <div class="title-container">
            <ng-container *ngIf="cardItem.avatarLink">
                <img [src]="cardItem.avatarLink" alt="avatar" style="    width: 85px;
                height: 85px;
                border-radius: 50%;">
            </ng-container>
            <ng-container *ngIf="!cardItem.avatarLink">
                <img [src]="'assets/avatars/default.png'" alt="avatar">
            </ng-container>
            <p class="title">
                {{cardItem.title}}
            </p>
        </div>
        <div class="description text12">
            {{cardItem.summary}}
        </div>

        <div class="vacancies">
            <ng-container *ngIf="cardItem.vacancies.length > 0">
                <p class="text12">{{cardItem.vacancies.length}} открытых вакансий:</p>

                <ng-container *ngFor="let item of cardItem.vacancies.slice(0, 2)" (click)="viewJob($event, item.id)">
                    <div class="vacanciesItem">
                        <span class="text12" style="font-weight: 600;">{{item.profession.name}}</span>
                        <p [ngStyle]="{ 'border-color': getSkillsColor(item.profession.competenceLevel) }"
                            class="lookingCard-level" *ngIf="item?.profession?.competenceLevel">
                            {{ getSkills(item.profession?.competenceLevel) }}
                        </p>
                    </div>
                </ng-container>

                <div style="width: 100%;
                            display: flex;
                            flex-direction: row-reverse;
                            margin-top: 10px;" *ngIf="cardItem.vacancies.length > 2">
                    <p class="text12" style=" margin: 0;">
                        Еще
                    </p>
                </div>

            </ng-container>


            <ng-container *ngIf="cardItem.vacancies.length == 0">
                <p class="text12">Нет открытых вакансий.</p>
                <span class="text12" style="font-weight: 600;">
                    У проекта пока нет открытых вакансий, но вы можете написать админу, и удача вам улыбнется.
                </span>
            </ng-container>
        </div>

        <div class="commands">
            <p class="text12">Команда:</p>
            <ng-container *ngIf="cardItem.team.length > 0">
                <div class="team-container">
                    <div *ngFor="let item of cardItem.team" (click)="viewUser($event, item?.nickname)"
                        class="team-member">
                        <ng-container *ngIf="item.imageLink">
                            <img [src]="item.imageLink" alt="avatar" class="avatar">
                        </ng-container>
                        <ng-container *ngIf="!item.imageLink">
                            <img [src]="'assets/avatars/default.png'" alt="avatar" class="avatar">
                        </ng-container>
                    </div>
                </div>
            </ng-container>

        </div>
        <div class="date-container">
            <p class="date">размещено {{ cardItem.createdAt | date:'dd.MM.yyyy' }}</p>
        </div>
    </div>
</div>